<link rel="import" href="../parts.html">
<link rel="import" href="./blocks/general.html">
<link rel="import" href="./blocks/paths.html">
<link rel="import" href="./blocks/setters.html">
<link rel="import" href="./blocks/shapes.html">
<link rel="import" href="./blocks/space.html">
<script>
    (function (Kano) {

        let canvas,
            blocks = [{
                block: (ui) => {
                    return {
                        id: 'clear',
                        message0: `${ui.name}: clear`,
                        previousStatement: null,
                        nextStatement: null
                    };
                },
                javascript: (ui) => {
                    return function (block) {
                        return `devices.get('${ui.id}').resetSession();`;
                    };
                },
                pseudo: (ui) => {
                    return function (block) {
                        return `devices.get('${ui.id}').resetSession();`;
                    };
                }
            }];

        blocks = blocks.concat(Kano.MakeApps.Parts.Canvas.general);
        blocks = blocks.concat(Kano.MakeApps.Parts.Canvas.paths);
        blocks = blocks.concat(Kano.MakeApps.Parts.Canvas.setters);
        blocks = blocks.concat(Kano.MakeApps.Parts.Canvas.shapes);
        blocks = blocks.concat(Kano.MakeApps.Parts.Canvas.space);

        canvas = {
            partType: 'ui',
            type: 'canvas',
            label: Kano.MakeApps.Msg.PART_CANVAS_NAME,
            image: '/assets/part/box.svg',
            component: 'kano-part-canvas',
            colour: '#E73544',
            customizable: {
                style: ['width', 'height']
            },
            userStyle: {
                width: '200px',
                height: '200px'
            },
            blocks: blocks
        };


        Kano.MakeApps.Parts.registerPart(canvas);
    })(window.Kano = window.Kano || {});
</script>
