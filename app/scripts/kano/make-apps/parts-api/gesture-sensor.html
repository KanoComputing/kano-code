<link rel="import" href="./base.html">
<script>
    (function (Kano) {
        let GsetureSensor, PartsAPI;

        Kano.MakeApps = Kano.MakeApps || {};
        PartsAPI = Kano.MakeApps.PartsAPI = Kano.MakeApps.PartsAPI || {};

        GsetureSensor = {
            start () {
                PartsAPI.Base.start.apply(this, arguments);
                this.gestureEventListener = (e) => {
                    if (e.type) {
                        let fire_string = 'gesture-' + e.type;
                        this.fire(fire_string);
                    }
                };
                this.appModules.getModule('gestureSensor').on('gesture-sensor:0:gesture', this.gestureEventListener);
            },
            stop () {
                PartsAPI.Base.stop.apply(this, arguments);
                this.appModules.getModule('gestureSensor').removeListener('gesture-sensor:0:gesture', this.gestureEventListener);
            }
        };

        // @polymerBehavior
        Kano.MakeApps.PartsAPI['gesture-sensor'] = Object.assign({}, PartsAPI.Base, GsetureSensor);
    })(window.Kano = window.Kano || {});
</script>