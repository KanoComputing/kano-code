<link rel="import" href="../files/stickers.html">
<link rel="import" href="./base.html">
<script>
    (function () {
        window.Kano = window.Kano || {};

        Kano.MakeApps = Kano.MakeApps || {};
        /**
         * @namespace Kano.MakeApps.PartsAPI
         */
        Kano.MakeApps.PartsAPI = Kano.MakeApps.PartsAPI || {};

        const Sticker = {
            getSticker (set, sticker) {
                return Kano.MakeApps.Files.generators.stickers(set, sticker);
            },
            setSticker (pic) {
                if (pic) {
                    this.set('model.userProperties.src', pic);
                }
            },
            getSource () {
                return this.get('model.userProperties.src');
            },
            randomSticker (set) {
                let randomSticker, stickers, sets;
                if (!set) {
                    sets = Object.keys(Kano.MakeApps.Files.stickers),
                    set = sets[Math.floor(Math.random() * sets.length)];
                }
                stickers = Object.keys(Kano.MakeApps.Files.stickers[set]);
                randomSticker = stickers[Math.floor(Math.random() * stickers.length)];
                return this.getSticker(set, randomSticker);
            }
        };

        /**
         * @polymerBehavior
         */
        Kano.MakeApps.PartsAPI.sticker = Object.assign({}, Kano.MakeApps.PartsAPI.Base, Sticker);
    })();
</script>
