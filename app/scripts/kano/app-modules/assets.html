<link rel="import" href="./app-module.html">
<script>
    (function (Kano) {

        class AssetsModule extends Kano.AppModules.AppModule {
            constructor () {
                super();

                this.addMethod('getSticker', '_getSticker');
                this.addMethod('randomSticker', '_randomSticker');
            }

            _getSticker (set, sticker) {
                return Kano.MakeApps.Files.generators.stickers(set, sticker);
            }

            _randomSticker (set) {
                let randomSticker, stickers, sets;
                if (!set) {
                    sets = Object.keys(Kano.MakeApps.Files.stickers),
                    set = sets[Math.floor(Math.random() * sets.length)];
                }
                stickers = Object.keys(Kano.MakeApps.Files.stickers[set]);
                randomSticker = stickers[Math.floor(Math.random() * stickers.length)];
                return this._getSticker(set, randomSticker);
            }
        }

        Kano.AppModules.modules['assets'] = new AssetsModule();

    })(window.Kano = window.Kano || {});
</script>
