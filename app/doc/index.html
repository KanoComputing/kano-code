<html>
    <head>
        <title>Kano Make Apps Documentation</title>
        <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">
        <script src="../bower_components/webcomponentsjs/webcomponents-lite.js"></script>
        <link rel="import" href="../bower_components/iron-component-page/iron-component-page.html">
        <link rel="import" href="../bower_components/paper-drawer-panel/paper-drawer-panel.html">
        <link rel="import" href="../bower_components/paper-toolbar/paper-toolbar.html">
        <link rel="import" href="../bower_components/paper-item/paper-item.html">
        <link rel="import" href="../bower_components/neon-animation/neon-animated-pages.html">
        <link rel="import" href="../bower_components/paper-styles/paper-styles.html">
        <link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout.html">
        <link rel="import" href="../bower_components/iron-image/iron-image.html">
        <link rel="import" href="./kano-doc-element-list.html">
        <link rel="import" href="./kano-doc-element-options.html">
        <style>
            html, body {
                font-family: Roboto;
                color: #424242;
                font-size: 14px;
                margin: 0px;
                padding: 0px;
            }
            .docs-header,
            #topBar #links {
                display: none;
            }
            paper-item {
                cursor: pointer;
            }
        </style>
        <style is="custom-style">
            header {
                padding: 12px 16px;
                @apply(--layout-horizontal);
                @apply(--layout-center);
                color: white;
                background-color: orange;
            }
            header h2 {
                margin-left: 7px;
                font-weight: 400;
            }.applink {
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
                display: block;
                font-size: 14px;
                padding: 4px 16px;
                min-height: inherit;
                cursor: pointer;
                font-weight: 400;
            }
            .applink.iron-selected {
                background: #eceff1;
            }
            .element-title {
                font-weight: 500;
                padding: 7px 16px;
            }
            .drawer {
                border-right: 1px solid #e5e5e5;
                height: 100%;
            }
        </style>
    </head>
    <body>
        <template is="dom-bind" id="bind">
            <paper-drawer-panel>
                <div class="drawer" drawer>
                    <header>
                        <iron-image src="./kano.png" width="70" height="70" sizing="contain"></iron-image>
                        <h2> elements</h2>
                    </header>
                    <neon-animated-pages selected="[[sidebarView]]" attr-for-selected="name">
                        <kano-doc-element-list id="list" name="list" elements="[[elements]]" selected-element="{{selectedElement}}"></kano-doc-element-list>
                        <kano-doc-element-options id="options" name="details" element="[[element]]" on-show-docs="showDocs" on-show-demo="showDemo" on-back="goBack"></kano-doc-element-options>
                    </neon-animated-pages>
                </div>
                <div main>
                    <iron-component-page src="[[element]].html" view="{{view}}" base="[[base]]" doc-demos="{{demos}}" scroll-mode="cover"></iron-component-page>
                </div>
            </paper-drawer-panel>
        </template>
        <script type="text/javascript">
            var bind = document.getElementById('bind');
            bind.elements = [
                'kano-circle-progress',
                'kano-challenge-progress',
                'kano-animated-svg',
                'inputs/kano-input-color',
                'inputs/kano-input-font-family'
            ];
            bind.sidebarView = 'list';
            bind.addEventListener('dom-change', function () {
                document.getElementById('list').addEventListener('selected-element-changed', function (e) {
                    var pieces = e.detail.value.split('/'),
                        element = pieces.pop();
                    bind.base = `${location.href.split(/\?|#/)[0]}../elements/${e.detail.value}/`;
                    bind.element = element;
                    bind.sidebarView = 'details';
                    bind.view = 'docs';
                    bind.detailsSelected = 'docs';
                });
            });
            bind.showDocs = function () {
                bind.view = 'docs';
            };
            bind.showDemo = function () {
                bind.view = `demo:${bind.demos[0].path}`;
            };
            bind.goBack = function () {
                bind.sidebarView = 'list';
                bind.showDocs();
                bind.element = null;
            };
        </script>
    </body>
</html>
