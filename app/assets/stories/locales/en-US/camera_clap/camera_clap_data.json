{
    "steps": [
        {
            "validation": {
                "open-parts": true
            },
            "beacon": {
                "target": "add-part-button"
            },
            "banner": {
                "text": "This app will listen for sounds.<br />Add the microphone part."
			},
			"arrow": {
				"target": "add-part-button",
				"angle": 180
            }
        },
        {
            "validation": {
                "add-part": {
                    "type": "microphone",
                    "id": "part_0"
                }
            },
            "beacon": {
                "target": "parts-panel-microphone"
			},
			"tooltips": [
				{
					"location": "parts-panel",
					"position": "top",
					"text": "Click 'Mic' to add it to your creation."
				}
			]
        },
        {
            "validation": {
                "blockly": {
                    "value": {
                        "target": {
                            "rawId": "default_event_part_id"
                        },
                        "value": "global.start"
                    }
                }
            },
            "beacon": {
                "target": {
                    "block": {
                        "rawId": "default_event_part_id"
                    }
                }
            },
            "banner": {
                "text": "Change to <kano-value-preview><span>app starts</span></kano-value-preview>."
            }
        },
        {
            "validation": {
                "blockly": {
                    "open-flyout": {
                        "part": "part_0"
                    }
                }
            },
            "beacon": {
                "target": {
                    "category": {
                        "part": "part_0"
                    }
                }
            },
            "banner": {
                "text": "Open the Mic tray."
            }
        },
        {
            "validation": {
                "blockly": {
                    "create": {
                        "target": "part_0",
                        "type": "threshold",
                        "id": "block_0"
                    }
                }
            },
            "beacon": {
                "target": {
                    "flyout_block": {
                        "part": "part_0",
                        "type": "threshold"
                    }
                }
            },
            "banner": {
                "text": "Grab the <em>when volume goes over</em> block."
            }
        },
        {
            "validation": {
                "blockly": {
                    "connect": {
                        "parent": {
                            "id": null,
                            "rawId": "default_event_part_id",
                            "inputName": "DO"
                        },
                        "target": "block_0"
                    }
                }
            },
            "phantom_block": {
                "location": {
                    "block": {
                        "id": null,
                        "rawId": "default_event_part_id"
                    }
                },
                "target": "DO"
            },
            "beacon": {
                "target": {
                    "block": {
                        "id": null,
                        "rawId": "default_event_part_id"
                    }
                }
            },
            "banner": {
                "text": "Connect it inside your event block."
            }
        },
        {
            "validation": {
                "blockly": {
                    "value": {
                        "target": {
                            "shadow": "VALUE",
                            "id": "block_0"
                        },
                        "value": "60"
                    }
                }
            },
            "beacon": {
                "target": {
                    "block": {
                        "shadow": "VALUE",
                        "id": "block_0"
                    }
                }
            },
            "banner": {
                "text": "When the microphone volume goes over this number, code inside the block will run. Change it to <kano-value-preview><span>60</span></kano-value-preview>."
            }
        },
        {
            "validation": {
                "blockly": {
                    "open-flyout": "camera"
                }
            },
            "beacon": {
                "target": {
                    "category": "camera"
                }
            },
            "banner": {
                "text": "Open the camera tray."
            }
        },
        {
            "validation": {
                "blockly": {
                    "create": {
                        "type": "camera#take_picture",
                        "id": "block_1"
                    }
                }
            },
            "beacon": {
                "target": {
                    "flyout_block": "camera#take_picture"
                }
            },
            "banner": {
                "text": "Grab the <em>camera take picture</em> block."
            }
        },
        {
            "validation": {
                "blockly": {
                    "connect": {
                        "parent": {
                            "id": "block_0",
                            "rawId": "7m{v5b*1Fr3!v2Mh^/jF",
                            "inputName": "DO"
                        },
                        "target": "block_1"
                    }
                }
            },
            "phantom_block": {
                "location": {
                    "block": {
                        "id": "block_0",
                        "rawId": "7m{v5b*1Fr3!v2Mh^/jF"
                    }
                },
                "target": "DO"
            },
            "beacon": {
                "target": {
                    "block": {
                        "id": "block_0",
                        "rawId": "7m{v5b*1Fr3!v2Mh^/jF"
                    }
                }
            },
            "banner": {
                "text": "Connect it inside the microphone trigger."
            }
        },
        {
            "beacon": {
                "target": "workspace-panel"
            },
            "banner": {
                "text": "Clap your hands to take a photo!",
                "next_button": true
            }
		},
		{
            "beacon": {
                "target": "workspace-panel"
            },
            "banner": {
                "text": "Nice work! Now you know how to take a picture with sound!",
                "next_button": true
            }
        }
    ],
    "parts": [
        "microphone"
    ],
    "modules": [],
    "variables": [],
    "mode": "camera",
    "defaultApp": "{\"parts\":[],\"code\":{\"snapshot\":{\"javascript\":\"devices.get('camera').when('camera-shutter', function () {\\n  devices.get('camera').takePicture();\\n});\\n\",\"pseudo\":\"devices.get('camera').when('camera-shutter', function () {\\n  devices.get('camera').takePicture();\\n});\\n\",\"blocks\":\"<xml xmlns=\\\"http://www.w3.org/1999/xhtml\\\"><block type=\\\"part_event\\\" id=\\\"default_event_part_id\\\" x=\\\"68\\\" y=\\\"120\\\"><field name=\\\"EVENT\\\">camera.camera-shutter</field><statement name=\\\"DO\\\"></block></statement></block></xml>\"}},\"background\":{\"name\":\"My app\",\"userStyle\":{\"background\":\"#FFFFFF\"}},\"mode\":\"camera\"}"
}