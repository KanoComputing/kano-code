{"parts":[{"id":"proximitysensor","name":"Proximity Sensor","type":"proximity-sensor","userStyle":{},"userProperties":{},"position":{"x":86.06860158311346,"y":287.84952176781},"partType":"hardware","configPanel":"disabled"}],"code":{"snapshot":{"javascript":"var item;\n\nfunction colourRgb(r, g, b) {\n  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;\n  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;\n  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;\n  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);\n  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);\n  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);\n  return '#' + r + g + b;\n}\n\n\nglobal.when('start', function () {\n  item = 0;\n});\n\ndevices.get('proximitysensor').when('proximity-update', function () {\n  devices.get('lightboard').turnOn({\"type\":\"all\"}, colourRgb((item + devices.get('proximitysensor').getValue() / 2.55) / 2, (item + devices.get('proximitysensor').getValue() / 2.55) / 2, 0));\n  item = devices.get('proximitysensor').getValue() / 2.55;\n});\n","pseudo":"// Edit me to add code","blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\"><block type=\"part_event\" id=\"^Ddgf6P*rYlYSk,OWvkS\" x=\"69\" y=\"-33\"><field name=\"EVENT\">global.start</field><statement name=\"DO\"><block type=\"variables_set\" id=\"][oj[vtT@eZSxNEZ;z1G\"><field name=\"VAR\">item</field><value name=\"VALUE\"><block type=\"math_number\" id=\"LQ/{*8xD~W+)E|y%U))~\"><field name=\"NUM\">0</field></block></value></block></statement></block><block type=\"part_event\" id=\"default_part_event_id\" x=\"27\" y=\"50\"><field name=\"EVENT\">proximitysensor.proximity-update</field><statement name=\"DO\"><block type=\"lightboard#turn_on\" id=\"h`W:-y@q@YVZnpb.TLQ,\"><value name=\"TARGET\"><block type=\"lightboard#lights_all\" id=\"{Z5DBVo(.!/Y6G(ot,y!\"></block></value><value name=\"COLOR\"><block type=\"colour_rgb\" id=\"0z9A3F]{r!/@V_hpDd(A\"><value name=\"RED\"><block type=\"math_arithmetic\" id=\"1qE.DfNBb|sd,j/]EHmz\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><block type=\"math_arithmetic\" id=\"XiEK4ue=akW,-x2N3p|e\"><field name=\"OP\">ADD</field><value name=\"A\"><block type=\"variables_get\" id=\"gmVh1Pm3A-/McPM*}K+E\"><field name=\"VAR\">item</field></block></value><value name=\"B\"><block type=\"math_arithmetic\" id=\"%8I%AOkXEyD=-g+fqu~a\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><block type=\"proximitysensor#proximity_sensor_value\" id=\"Rwc.NomD}niN=hfJDpFv\"></block></value><value name=\"B\"><block type=\"math_number\" id=\":}B6uYMc~RJQ~}.|ORX{\"><field name=\"NUM\">2.55</field></block></value></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"u[z*v#HyNd:BDO{(^=yA\"><field name=\"NUM\">2</field></block></value></block></value><value name=\"GREEN\"><block type=\"math_arithmetic\" id=\"IT7n.NNV~{I]24eEJy@9\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><block type=\"math_arithmetic\" id=\"Z,KnFhOf.!Y!uEdHq]FI\"><field name=\"OP\">ADD</field><value name=\"A\"><block type=\"variables_get\" id=\"sXZamR_kScXZKt.eu2x?\"><field name=\"VAR\">item</field></block></value><value name=\"B\"><block type=\"math_arithmetic\" id=\"RnJ[7BXdwLqgtQj]z7EP\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><block type=\"proximitysensor#proximity_sensor_value\" id=\"=u8,wQz7/.V6n:cJ%;YQ\"></block></value><value name=\"B\"><block type=\"math_number\" id=\"*1KJn==t-fkuVJBS-k*w\"><field name=\"NUM\">2.55</field></block></value></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"QCTcV6EppNsUr=s1|FsW\"><field name=\"NUM\">2</field></block></value></block></value></block></value><next><block type=\"variables_set\" id=\"]QXki=?):7p.e-*S2J(+\"><field name=\"VAR\">item</field><value name=\"VALUE\"><block type=\"math_arithmetic\" id=\"TlEOz81.C69If{ttb^cb\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><block type=\"proximitysensor#proximity_sensor_value\" id=\"+ghBqUr?.4S%_WyWS@S3\"></block></value><value name=\"B\"><block type=\"math_number\" id=\"hDiW97gTq/7btH*DF?h+\"><field name=\"NUM\">2.55</field></block></value></block></value></block></next></block></statement></block></xml>"}},"background":{"name":"My app","userStyle":{"background":"#F5F5F5"}},"mode":"lightboard"}