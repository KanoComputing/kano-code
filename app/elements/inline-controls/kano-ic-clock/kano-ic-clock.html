<link rel="import" href="../../../../../polymer/polymer.html">
<link rel="import" href="../../../../../iron-flex-layout/iron-flex-layout.html">
<dom-module id="kano-ic-clock">
    <template>
        <style>
            :host {
                @apply --layout-horizontal;
                @apply --layout-end-justified;
                color: #fff;
            }
            .visuals {
                @apply --layout-horizontal;
                margin-right: 8px;
                font-size: 12px;
            }
            .data {
                width: 18px;
                @apply --layout-horizontal;
                @apply --layout-center-justified;
            }
            span {
                width: 10px;
                font-size: 11px;
            }
        </style>
        <div class="visuals" id="visuals">
            <div class="data">[[h]]</div>
            <span>&nbsp:&nbsp</span>
            <div class="data">[[m]]</div>
            <span>&nbsp:&nbsp</span>
            <div class="data">[[s]]</div>
        </div>
    </template>
    <script>
        Polymer({
            is:'kano-ic-clock',
            properties: {
                model: Object
            },
            attached () {
                this.interval = setInterval(this._updateClock.bind(this), 1000);
                this._updateClock();
            },
            detached () {
                clearInterval(this.interval);
            },
            _updateClock () {
                let d = new Date(),
                    h = this._leftPadTime(d.getHours()),
                    m = this._leftPadTime(d.getMinutes()),
                    s = this._leftPadTime(d.getSeconds());
                this.set('h', h);
                this.set('m', m);
                this.set('s', s);
            },
            _leftPadTime (n) {
                return n < 10 ? '0' + n : n;
            }
        });
    </script>
</dom-module>