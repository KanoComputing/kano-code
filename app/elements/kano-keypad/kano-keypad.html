<dom-module id="kano-keypad">
    <style>
    :host {
        display: block;
        @apply(--layout-horizontal);
        @apply(--layout-wrap);
        @apply(--layout-around-justified);
    }
    :host button {
        width: 33.3%;
        font-size: 1.3em;
        background-color: var(--color-white);
        border: 1px solid var(--color-grey-light);
    }
    </style>
    <template>
        <template is="dom-repeat" items="{{keys}}" as="number">
            <button type="button" on-tap="keyTapped">{{number}}</button>
        </template>
    </template>
</dom-module>

<script type="text/javascript">
    class KanoKeypad {
        beforeRegister () {
            this.is = 'kano-keypad';
            this.properties = {
                value: {
                    type: Number,
                    notify: true
                },
                keys: {
                    type: Array,
                    value: () => [7,8,9,4,5,6,1,2,3,0]
                }
            }
        }
        keyTapped (e) {
            let v = e.model.get('number'),
                value = this.get('value') || '';
            this.set('value', parseInt(`${value}${v}`));
        }
    }
    Polymer(KanoKeypad);
</script>
