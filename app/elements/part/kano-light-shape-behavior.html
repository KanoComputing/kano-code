<link rel="import" href="./kano-ui-behavior.html">
<script type="text/javascript">

(function (Kano) {
    Kano.Behaviors = Kano.Behaviors || {};

    /**
     * Behavior common to all ui parts that displays a shape on the lightboard
     * Update the coordinates methods to match leds instead of screen pixels
     */
    Kano.Behaviors.LightShapeBehaviorImpl = {
        applyTransform () {
            if (!this.model) {
                return;
            }
            let x = Math.min(Math.max(15, 15 + this.PIXEL_SIZE * this.getX()), 15 + (16 - parseInt(this.model.userProperties.width)) * this.PIXEL_SIZE),
                y = Math.min(Math.max(5, 5 + this.PIXEL_SIZE * this.getY()), 5 + (8 - parseInt(this.model.userProperties.height)) * this.PIXEL_SIZE);

            this.transform(`translate(${x}px, ${y}px)`);
        }
    };

    Kano.Behaviors.LightShapeBehavior = [Kano.Behaviors.UIBehavior, Kano.Behaviors.LightShapeBehaviorImpl];
})(window.Kano = window.Kano || {});

</script>
