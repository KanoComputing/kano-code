<dom-module id="kano-background-editor">
    <style>
    :host {
        display: block;
    }
    :host .background {
        padding: 25px;
    }
    :host .head {
        background: var(--color-orange);
        overflow: auto;
    }
    :host .head h2 {
        margin-left: 25px;
        margin-right: 25px;
        text-overflow: ellipsis;
        color: white;
        font-weight: 400;
    }
    </style>
    <template>
        <template is="dom-if" if="{{isNormalMode}}">
            <div name="background" class="background" id="background">
                <kano-ui-customizer id="background_style" customizable="{{backgroundOptions}}" user-values="{{background.userStyle}}"></kano-ui-customizer>
            </div>
        </template>
        <template is="dom-if" if="{{!isNormalMode}}">
            <h3>Select a part to change its settings.</h3>
        </template>
    </template>

</dom-module>
<script type="text/javascript">
    /* globals Polymer */

    Polymer({
        is: 'kano-background-editor',
        properties: {
            background: {
                type: Object,
                value: () => {
                    return {
                        name: 'My app',
                        userStyle: {}
                    };
                }
            },
            mode: {
                type: Object,
                observer: '_modeChanged'
            },
            isNormalMode: {
                type: Boolean,
                notify: true
            }
        },
        _modeChanged (newValue, oldValue) {
            if (newValue !== oldValue) {
                this.isNormalMode = (newValue === 'normal');
            }
        },
        attached () {
            this.set('backgroundOptions', [{
                key: 'background',
                type: 'background',
                label: 'Background'
            }]);
        }
    });
</script>
