<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../bower_components/web-components/kano-style/button.html">
<link rel="import" href="../kano-icons/parts.html">
<link rel="import" href="../behaviors/kano-app-element-registry-behavior.html">
<dom-module id="kano-part-editor-topbar">
    <style>
        :host {
            @apply --layout-horizontal;
            @apply --layout-justified;
            @apply --layout-center;
            height: 59px;
            padding: 0 16px;
            border-bottom: 1px solid var(--kano-app-part-editor-border);
        }
        iron-icon {
            margin-right: 8px;
            --iron-icon-fill-color: var(--part-theme);
        }
        .title {
            font-size: 16px;
            font-weight: bold;
            margin-left: 8px;
            color: #fff;
            cursor: default;
        }
        .action {
            @apply --layout-flex-auto;
            @apply --layout-horizontal;
            @apply --layout-end-justified;
        }
        .action button {
            @apply --kano-button;
            border-radius: 3px;
            background: #54595d;
        }
        .action button:hover {
            background-color: var(--part-theme, #6E7377);
        }
        .action button#done {
            font-size: 14px;
            font-weight: bold;
            text-shadow: none;
            padding: 8px 24px;
        }
        [hidden] {
            display: none !important;
        }
    </style>
    <template>
        <iron-icon id="part-icon" icon="parts:[[icon]]" hidden$="[[!icon]]"></iron-icon>
        <div class="title">[[label]]</div>
        <div class="action">
            <slot name="action"></slot>
            <button id="done" type="button" dialog-dismiss>Done</button>
        </div>
    </template>
    <script type="text/javascript">
        Polymer({
            is: 'kano-part-editor-topbar',
            behaviors: [
                Kano.Behaviors.AppElementRegistryBehavior
            ],
            properties: {
                icon: {
                    type: String,
                    value: null
                },
                label: String,
                theme: String,
            },
            observers: [
                '_onThemeChanged(theme)'
            ],
            attached () {
                this._registerElement('part-editor-done-button', this.$.done);
            },
            _onThemeChanged (theme) {
                  this.updateStyles({
                      '--part-theme': theme
                  });
            }
        });
    </script>
</dom-module>
