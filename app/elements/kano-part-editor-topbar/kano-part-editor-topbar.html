<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../bower_components/kwc-style/button.html">
<link rel="import" href="../kano-icons/parts.html">
<link rel="import" href="../kc-dialog-topbar/kc-dialog-topbar.html">
<link rel="import" href="../behaviors/kano-app-element-registry-behavior.html">
<dom-module id="kano-part-editor-topbar">
    <style>
        :host {
            display: block;
            border-bottom: 1px solid var(--kano-app-part-editor-border);
        }
        [hidden] {
            display: none !important;
        }
    </style>
    <template>
        <kc-dialog-topbar icon="parts:[[icon]]" label="[[label]]">
            <slot name="action" slot="action"></slot>
            <button id="done" slot="action" type="button" data-animate$="[[_computeDataAnimate('450', visible)]]" dialog-dismiss>Done</button>
        </kc-dialog-topbar>
    </template>
    <script type="text/javascript">
        Polymer({
            is: 'kano-part-editor-topbar',
            behaviors: [
                Kano.Behaviors.AppElementRegistryBehavior
            ],
            properties: {
                icon: {
                    type: String,
                    value: null
                },
                label: String,
                theme: String
            },
            observers: [
                '_onThemeChanged(theme)'
            ],
            attached () {
                this._registerElement('part-editor-done-button', this.$.done);
            },
            _onThemeChanged (theme) {
                  this.updateStyles({
                      '--kc-dialog-topbar-icon-color': theme
                  });
            }
        });
    </script>
</dom-module>
