<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../kano-default-workspace/kano-default-workspace.html">
<link rel="import" href="../kano-workspace-lightboard/kano-workspace-lightboard.html">
<dom-module id="kano-editor-lightboard">
    <style>
        :host {
            @apply --layout-vertical;
            width: 100%;
            height: 100%;
            padding-top: 12px;
        }
        kano-default-workspace {
            @apply --layout-vertical;
            @apply --layout-flex;
        }
        kano-workspace-lightboard {
            @apply --layout-flex;
        }
        ::slotted(.data),
        ::slotted(.hardware),
        ::slotted(kano-part-oscillator) {
            display: none;
        }
    </style>
    <template>
        <kano-default-workspace id="wrapper"
                                width="[[width]]"
                                height="[[height]]"
                                running="[[running]]"
                                running="{{running}}"
                                editable-layout="[[editableLayout]]"
                                parts-menu-open="[[partsMenuOpen]]"
                                parts="{{parts}}"
                                expansion="[[expansion]]">
            <kano-workspace-lightboard id="workspace" width="[[width]]" height="[[height]]" slot="workspace">
                <slot></slot>
            </kano-workspace-lightboard>
        </kano-default-workspace>
    </template>
    <script>
        /* globals Polymer, Kano */
        Polymer({
            is: 'kano-editor-lightboard',
            properties: {
                autoStart: Boolean,
                expansion: Number,
                partsMenuOpen: {
                    type: Boolean,
                    value: false
                },
                editableLayout: {
                    type: Boolean,
                    value: false
                },
                running: {
                    type: Boolean,
                    value: false
                },
                parts: {
                    type: Array,
                    value: () => {
                        return [];
                    },
                    notify: true
                },
                availableParts: {
                    type: Array
                }
            },
            _resetAppState () {
                this.fire('reset-app-state');
            },
            _getRunningStatus (running) {
                return running ? 'running' : 'stopped';
            },
            clear () {
                this.$.workspace.clear();
            },
            getBackgroundColor () {
                this.$.workspace.getBackgroundColor();
            },
            getWorkspace () {
                return this.$.workspace;
            },
            getRestrictElement () {
                return this.$.workspace;
            },
            getViewport () {
                return this.$.workspace;
            },
            getViewportScale () {
                return this.$.wrapper.getScale();
            }
        });
    </script>
</dom-module>
