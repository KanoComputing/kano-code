<link rel="import" href="../../bower_components/kano-hw-components/kano-led-matrix.html">

<dom-module id="kano-workspace-normal">
    <style>
        :host {
            display: block;
            width: 100%;
            height: 100%;
            background: #ffffff;
            box-shadow: 4px 4px 5px 0 rgba(0, 0, 0, 0.14);
            border-radius: 5px;
        }

        :host .hole {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: #454545;
        }
        :host .hole.hidden {
            display: none;
        }
        :host .hole.hole-top-left {
            top: 5px;
            left: 5px;
        }
        :host .hole.hole-top-right {
            top: 5px;
            right: 5px;
        }
        :host .hole.hole-bottom-right {
            bottom: 5px;
            right: 5px;
        }
        :host .hole.hole-bottom-left {
            bottom: 5px;
            left: 5px;
        }

        :host div > *:not(.hole) {
            position: absolute;
            top: 0px;
            left: 0px
        }
    </style>
    <template>
        <div class="hole hole-top-left"></div>
        <div class="hole hole-top-right"></div>
        <div class="hole hole-bottom-right"></div>
        <div class="hole hole-bottom-left"></div>
        <content></content>
    </template>
    <script>
        /* globals Polymer, Kano */
        Polymer({
            is: 'kano-workspace-normal',
            properties: {
                pixels: {
                    type: Array,
                    value: () => new Array(128)
                }
            },
            render (bitmap) {
                this.$['led-matrix'].render(bitmap);
            },
            turnOn (light, color) {
                let bitmap = Kano.MakeApps.Modules.lightboard.methods.turnOn(light, color);
                this.render(bitmap);
            },
            turnOff (light) {
                let bitmap = Kano.MakeApps.Modules.lightboard.methods.turnOff(light);
                this.render(bitmap);
            },
            setBackgroundColor (color) {
                let bitmap = Kano.MakeApps.Modules.lightboard.methods.setBackgroundColor(color);
                this.render(bitmap);
            },
            update (data) {
                this.render(data);
            }
        });
    </script>
</dom-module>
