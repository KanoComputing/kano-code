<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../../bower_components/web-components/kano-style/kano-style.html">
<link rel="import" href="../behaviors.html">
<link rel="import" href="../../kano-code-shared-styles/kano-code-shared-styles.html">
<link rel="import" href="../../kano-slider/kano-slider.html">
<!--
### Styling

The following custom properties and mixins are available for styling:

Custom property | Description | Default
----------------|-------------|----------
`--kano-input-range-label`
-->
<dom-module id="kano-input-range">
    <style is="custom-style" include="input-range"></style>
    <style>
        :host {
            @apply --layout-vertical;
        }
        label {
            @apply --kano-part-editor-label;
        }
        .slider-container {
            background: #484d53;
            border-radius: 3px;
            padding: 8px 6px 10px;
        }
        :host .display {
            @apply --layout-horiztonal;
            @apply --layout-center-justified;
            position: relative;
            color: #fff;
            font-size: 14px;
            font-weight: bold;
            margin: 0 0 10px 4px;
            overflow: hidden;
            @apply --kano-input-range-display;
        }
        :host .display span.symbol {
            font-size: 12px;
            text-transform: none;
        }
    </style>
    <template>
        <label hidden$="[[!label]]">[[label]]</label>
            <div class="slider-container">
                <div id="display" class="display">[[_roundValue(value)]]<span hidden$=[[!symbol]] class="symbol"> [[symbol]]</span></div>
                <kano-slider
                      id="slider"
                      min="[[min]]"
                      max="[[max]]"
                      value="{{value}}"
                      theme="[[theme]]"></kano-slider>
            </div>
    </template>
</dom-module>
<script type="text/javascript">
    /* globals Polymer, Kano */

    Polymer({
        is: 'kano-input-range',
        behaviors: [Kano.Behaviors.Input],
        properties: {
            theme: String
        },
        _roundValue (value) {
            return Math.round(parseFloat(value));
        }
    });
</script>
