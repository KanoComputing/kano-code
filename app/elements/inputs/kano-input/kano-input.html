<link rel="import" href="../behaviors.html">
<link rel="import" href="../kano-input-color/kano-input-color.html">
<link rel="import" href="../kano-input-range/kano-input-range.html">
<link rel="import" href="../kano-input-text/kano-input-text.html">
<link rel="import" href="../kano-input-list/kano-input-list.html">
<link rel="import" href="../kano-input-toggle/kano-input-toggle.html">
<link rel="import" href="../kano-input-image/kano-input-image.html">
<link rel="import" href="../kano-input-wave/kano-input-wave.html">
<link rel="import" href="../../../../../iron-flex-layout/iron-flex-layout.html">
<!--
### Styling

The following custom properties and mixins are available for styling:

Custom property | Description | Default
----------------|-------------|----------
--kano-input-label`
-->
<dom-module id="kano-input">
    <template>
        <style>
            :host {
                display: block;
            }
        </style>
        <div id="input-container"></div>
    </template>
</dom-module>
<script type="text/javascript">
    /* globals Polymer, Kano */

    Polymer({
        is: 'kano-input',
        behaviors: [Kano.Behaviors.Input,
                    Kano.Behaviors.AppEditorBehavior],
        observers: [
            '_typeChanged(type)',
        ],
        _typeChanged() {
            let inputTagName = this._getTagName(),
                root = Polymer.dom(this.root);
            const tpl = document.createElement('template');
            tpl.innerHTML = `<${inputTagName} class="kano-input" label="[[label]]" value="{{value}}" symbol="[[symbol]]" min="[[min]]" max="[[max]]" options="[[options]]" theme="[[theme]]"></${inputTagName}>`;

            const template = Polymer.html`${tpl}`;

            this.instance = this._stampTemplate(template);

            this.$['input-container'].appendChild(this.instance);
        },
        _getTagName() {
            return `kano-input-${this.type}`;
        }
    });
</script>
