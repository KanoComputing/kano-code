<link rel="import" href="../../../bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="../behaviors.html">

<dom-module id="kano-input-background">
    <style>
    :host {
        display: block;
        @apply(--layout-vertical);
    }
    :host paper-tabs {
        margin-bottom: 5px;
        --paper-tabs-selection-bar-color: var(--color-orange, orange);
    }
    :host label {
        font-size: 1.4em;
    }
    </style>
    <template>
        <label>{{label}}</label>
        <paper-tabs selected="{{page}}" attr-for-selected="name" noink>
            <paper-tab name="pattern">Pattern</paper-tab>
            <paper-tab name="color">Color</paper-tab>
        </paper-tabs>
        <iron-pages selected="[[page]]" attr-for-selected="name">
          <div name="color">
              <kano-input-color on-value-changed="colorChanged"></kano-input-color>
          </div>
          <div name="pattern">
              <kano-input-pattern on-value-changed="patternChanged"></kano-input-pattern>
          </div>
        </iron-pages>
    </template>
</dom-module>
<script type="text/javascript">
    class KanoInputBackground {

        get behaviors () {
            return [KanoBehaviors.Input];
        }

        beforeRegister () {
            this.is = 'kano-input-background';
        }

        ready () {
            this.set('page', 'pattern');
        }

        colorChanged (e) {
            this.set('value', `background-color: ${e.detail.value}`);
        }

        patternChanged (e) {
            this.set('value', e.detail.value);
        }
    }
    Polymer(KanoInputBackground);
</script>
