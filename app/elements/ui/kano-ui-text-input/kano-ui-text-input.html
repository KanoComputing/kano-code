<link rel="import" href="../kano-ui-style/kano-ui-style.html">

<dom-module id="kano-ui-text-input">
    <style include="kano-ui-style"></style>
    <style>
    :host {
        display: inline-block;
    }
    :host input[type='text'] {
        @apply(--kano-input);
        padding: 12px;
        width: 200px;
    }
    :host button {
        @apply(--kano-button);
        border-top-left-radius: 0px !important;
        border-bottom-left-radius: 0px !important;
        border-left: 0px !important;
        background-color: var(--color-green);
    }
    @media only screen and (min-device-width : 320px) and (max-device-width : 480px) {
        :host input[type='text'] {
            width: 120px;
            padding: 4px;
        }
    }
    </style>
    <template>
        <input type="text" value="{{value::keyup}}" on-keyup="onKeyUp" placeholder="type text here">
    </template>
</dom-module>

<script type="text/javascript">
    class KanoUiTextInput {

        get behaviors () {
            return [KanoBehaviors.UIBehavior, KanoBehaviors.AsyncConsumer];
        }

        beforeRegister () {
            this.is = 'kano-ui-text-input';
            this.properties = {
                model: {
                    type: Object,
                    value: () => {
                        return {};
                    }
                }
            };
        }
        onKeyUp () {
            this.fire('input-keyup', this.value);
        }
        getValue () {
            return this.value;
        }
        setValue (value) {
            if (!this.consume(value, this.setValue)) {
                this.value = value;
            }
        }
    }
    Polymer(KanoUiTextInput);
</script>
