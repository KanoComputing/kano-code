<script>
    Blockly.Blocks.minecraft_character_set_position = {
            init: function () {
                let json = {
                    id: 'minecraft_character_set_position',
                    colour: COLOUR,
                    message0: `${Blockly.Msg.LOOP_EVERY_REPEAT} %1 %2`,
                    args0: [{
                        type: "input_value",
                        name: "INTERVAL"
                    }],
                    message1: `${Blockly.Msg.CONTROLS_REPEAT_INPUT_DO} %1`,
                    args1: [{
                        type: "input_statement",
                        name: "DO"
                    }],
                    previousStatement: null,
                    nextStatement: null
                };
                this.jsonInit(json);
            }
        };

        Blockly.JavaScript.minecraft_character_set_position = (block) => {
            let statement = Blockly.JavaScript.statementToCode(block, 'DO'),
                interval = Blockly.JavaScript.valueToCode(block, 'INTERVAL') || 5,
                unit = block.getFieldValue('UNIT') || 'seconds',
                code = `time.every(${interval}, '${unit}', function () {\n${statement}});\n`;
            return code;
        };
</script>