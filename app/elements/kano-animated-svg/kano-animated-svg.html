<dom-module id="kano-animated-svg">
    <style>
    :host {
        display: block;
        position: relative;
    }
    :host svg {
        position: absolute;
        top: 0px;
        left: 0px;
        width: 100%;
        height: 100%;
    }
    :host #path {
        @apply(--kano-animated-path);
    }
    </style>
    <template>
        <svg xmlns="http://www.w3.org/2000/svg" id="svg">
            <path id="path" class="animatable"></path>
        </svg>
    </template>
</dom-module>
<script>
    /* globals Polymer */
    class KanoAnimatedSvg {

        beforeRegister () {
            this.is = 'kano-animated-svg';
            this.properties = {
                paths: {
                    type: Object,
                    value: () => {
                        return {};
                    }
                },
                selected: {
                    type: String
                },
                width: Number,
                height: Number
            };
            this.observers = [
                'updatePath(selected, paths.*)',
                'updateViewBox(width, height)'
            ];
        }

        updateViewBox () {
            this.$.svg.setAttribute('width', this.width);
            this.$.svg.setAttribute('height', this.height);
            this.$.svg.setAttribute('viewBox', `0 0 ${this.width} ${this.height}`);
        }

        updatePath () {
            this.$.path.setAttribute('d', this.paths[this.selected] || '');
        }

    }
    Polymer(KanoAnimatedSvg);
</script>
